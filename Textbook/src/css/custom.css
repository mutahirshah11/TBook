/* Premium Glassmorphism Theme & Global Overrides */

/* CRITICAL: Layout Reset to fix black bars and scrolls */
html, body {
  overflow-x: hidden !important;
  width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
  background-color: #0a0a0f !important;
  position: relative;
}

:root {
  /* Font Family */
  --ifm-font-family-base: 'Inter', system-ui, -apple-system, sans-serif;
  --ifm-font-family-monospace: 'IBM Plex Mono', monospace;
  
  /* Primary Brand Colors (Indigo/Violet) */
  --ifm-color-primary: #6366f1;
  --ifm-color-primary-dark: #4f46e5;
  --ifm-color-primary-darker: #4338ca;
  --ifm-color-primary-darkest: #3730a3;
  --ifm-color-primary-light: #818cf8;
  --ifm-color-primary-lighter: #a5b4fc;
  --ifm-color-primary-lightest: #c7d2fe;

  /* Backgrounds */
  --ifm-background-color: #0a0a0f;
  --ifm-background-surface-color: #14141a transparent;
  
  /* Navbar */
  --ifm-navbar-background-color: transparent;
  --ifm-navbar-shadow: none;
  --ifm-navbar-height: 4rem;
  
  /* Footer */
  --ifm-footer-background-color: #050508;
  
  /* Typography */
  --ifm-heading-color: #f8fafc;
  --ifm-font-color-base: #cbd5e1;
  
  /* Glassmorphism Utilities */
  --glass-border: 1px solid rgba(255, 255, 255, 0.08);
  --glass-bg: rgba(20, 20, 26, 0.6);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
}

/* Force layout to start at the very top and end at the very bottom */
#__docusaurus {
  padding: 0 !important;
  margin: 0 !important;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  width: 100% !important;
}

.main-wrapper {
  flex: 1 0 auto;
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 !important;
  margin: 0 !important;
}

/* Navbar Styling - Flush to Top */
.navbar {
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: var(--glass-border);
  padding: 0.5rem 2rem;
  transition: all 0.3s ease;
  position: fixed;
  top: 1rem;
  left: 0;
  right: 0;
  z-index: var(--ifm-z-index-fixed);
  margin: 0 auto !important;
  width: 92% !important;
  max-width: 1400px;
  border-radius: 100px;
  background-color: rgba(10, 10, 15, 0.4) !important;
  overflow: visible !important;
}

/* Remove Docusaurus announcement bar space */
div[class^='announcementBar'] {
  display: none !important;
  height: 0 !important;
  min-height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
}

.navbar__brand {
  font-family: 'Space Grotesk', sans-serif;
  font-weight: 700;
  letter-spacing: -0.02em;
  font-size: 1.5rem;
  background: linear-gradient(135deg, #fff 0%, #818cf8 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.navbar__item {
  font-weight: 600;
  font-size: 0.9rem;
  margin: 0 0.5rem;
  opacity: 0.85;
}

.navbar__item:hover {
  opacity: 1;
  color: var(--ifm-color-primary) !important;
}

/* Home Page Transparent Navbar */
body.home-page .navbar {
  background-color: transparent !important;
  border-bottom-color: transparent !important;
}

body.home-page.home-page--scrolled .navbar {
  background-color: transparent !important;
  border-bottom-color: rgba(255, 255, 255, 0.08) !important;
  backdrop-filter: blur(16px) !important;
}

/* Specialized Navbar Button (CTA) */
.navbar-cta {
  padding: 0.5rem 1.25rem !important;
  font-size: 0.85rem !important;
  border-radius: 100px !important;
  margin-left: 1rem !important;
}

.navbar-portal-link {
  color: #94a3b8 !important;
}

/* Footer Styling - Flush to Bottom */
.footer {
  background-color: #050508;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  padding: 5rem 0 3rem;
  margin: 0 !important;
  width: 100%;
  flex-shrink: 0;
}

.footer__title {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 1rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 1.5rem;
  color: #f8fafc;
}

.footer__link-item {
  font-size: 0.95rem;
  color: #64748b !important;
  transition: all 0.2s ease;
  line-height: 2;
}

.footer__link-item:hover {
  color: var(--ifm-color-primary) !important;
  text-decoration: none;
  padding-left: 4px;
}

.footer__copyright {
  margin-top: 4rem;
  font-size: 0.85rem;
  color: #475569;
  border-top: 1px solid rgba(255, 255, 255, 0.03);
  padding-top: 2rem;
}

/* Forms & Inputs */
input, select, textarea {
  width: 100% !important;
  background: rgba(255, 255, 255, 0.03) !important;
  border: 2px solid rgba(255, 255, 255, 0.1) !important;
  color: #f8fafc !important;
  border-radius: 10px !important;
  padding: 15px 55px !important;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
  font-family: inherit;
  font-size: 0.9rem !important;
}

input:focus, select:focus, textarea:focus {
  outline: none !important;
  border-color: #6366f1 !important;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2) !important;
  background: rgba(255, 255, 255, 0.05) !important;
}

label {
  color: #94a3b8;
  font-size: 0.85rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 8px;
  display: block;
}

/* Global Content Polish */
.container {
  max-width: 1200px;
}

section {
  padding: 0;
}

/* Button Refinement */
.button {
  border-radius: 10px;
  font-weight: 700;
  padding: 0.8rem 1.8rem;
  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.button--lg {
  padding: 1rem 2.2rem;
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: #0a0a0f;
}

::-webkit-scrollbar-thumb {
  background: #334155;
  border-radius: 5px;
  border: 2px solid #0a0a0f;
}

::-webkit-scrollbar-thumb:hover {
  background: #475569;
}
body {
  padding-top: 0 !important;
}

/* User Profile Menu */
.user-profile-circle {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #6366f1 0%, #818cf8 100%);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 1rem;
  cursor: pointer;
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.2s ease;
  position: relative;
  user-select: none;
}

.user-profile-circle:hover {
  transform: scale(1.05);
  box-shadow: 0 0 15px rgba(99, 102, 241, 0.4);
}

.user-profile-dropdown {
  position: absolute;
  top: 120%; /* Moved down slightly to clear the rounded navbar edge */
  right: 0;
  width: 200px;
  background: rgba(20, 20, 26, 0.95);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 12px;
  padding: 0.5rem;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
  animation: fadeIn 0.2s ease-out;
  transform-origin: top right;
  z-index: 10000; /* Ensure it's above everything */
}

.user-profile-item {
  padding: 0.75rem 1rem;
  border-radius: 8px;
  color: #cbd5e1;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  text-decoration: none !important;
}

.user-profile-item:hover {
  background: rgba(255, 255, 255, 0.05);
  color: white;
  background-color: rgba(99, 102, 241, 0.1);
}

.user-profile-item.logout {
  color: #f87171;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  margin-top: 0.25rem;
}

.user-profile-item.logout:hover {
  background: rgba(248, 113, 113, 0.1);
  color: #f87171;
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

/* RESPONSIVE ADJUSTMENTS */
@media (max-width: 996px) {
  .desktop-only {
    display: none !important;
  }
  
  /* Navbar adjustments for mobile */
  .navbar {
    width: 96% !important; /* Slightly wider on mobile */
    top: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 16px; /* Less rounded on mobile for better space usage */
  }

  /* Ensure burger menu is visible and clickable */
  .navbar__toggle {
    display: inherit;
    margin-right: 0.5rem;
    color: var(--ifm-color-primary-light);
  }

  /* Adjust doc wrapper padding for mobile */
  .doc-wrapper {
    padding-top: 5rem;
  }
}

/* Ensure mobile sidebar sits correctly */
.navbar-sidebar {
  z-index: 10001 !important; /* Above the navbar */
  background: rgba(10, 10, 15, 0.98) !important; /* Increased opacity */
  backdrop-filter: blur(16px);
  border-right: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 20px 0 50px rgba(0,0,0,0.5);
}

.navbar-sidebar__item {
  padding: 0.5rem 1rem;
}

.navbar-sidebar__backdrop {
  z-index: 10000 !important;
  background-color: rgba(0, 0, 0, 0.6) !important;
}

/* Fix mobile menu items color */
.menu__link {
  color: #cbd5e1 !important;
}
.menu__link--active {
  color: #6366f1 !important;
  background: rgba(99, 102, 241, 0.1) !important;
}

/* DASHBOARD RESPONSIVE GRID */
.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  grid-template-rows: repeat(2, minmax(180px, auto));
  gap: 24px;
  width: 100%; /* Ensure full width */
  box-sizing: border-box; /* Critical for padding/borders */
}

.dashboard-grid * {
  box-sizing: border-box; /* Cascade to children */
}

.dashboard-span-12 {
  grid-column: span 12;
}

.dashboard-span-8 {
  grid-column: span 8;
}

.dashboard-span-4 {
  grid-column: span 4;
}

/* Mobile Dashboard Adjustments */
@media (max-width: 996px) {
  .dashboard-grid {
    display: flex; /* Switch to flex column on mobile */
    flex-direction: column;
    gap: 16px;
    padding: 0; /* Remove internal padding if any */
  }
  
  .dashboard-span-12,
  .dashboard-span-8, 
  .dashboard-span-4 {
    grid-column: span 12;
    width: 100%;
    min-width: 0; /* Prevent flex items from overflowing */
  }

  /* Specific fix for very small screens - BRUTE FORCE RESET */
  @media (max-width: 480px) {
    .dashboard-grid {
        display: flex !important;
        flex-direction: column !important;
        width: 100% !important;
        max-width: 100vw !important;
        margin: 0 !important;
        padding: 0 !important;
        gap: 16px !important;
        overflow-x: hidden !important;
    }
    
    /* Fix card overflow and reduce size */
    .dashboard-grid .card,
    .dashboard-span-12,
    .dashboard-span-8, 
    .dashboard-span-4 {
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
        margin: 0 !important;
        overflow: hidden !important; /* Cut off anything that sticks out */
        padding: 1.25rem !important; /* Override inline 2rem padding, give a little breathing room */
        min-height: auto !important;
    }
    
    /* Adjust internal text sizes for mobile to prevent wrapping overflows */
    .dashboard-grid .card h2 {
        font-size: 1.4rem !important;
        word-break: break-word;
    }
    .dashboard-grid .card h3 {
        font-size: 1rem !important;
    }
    .dashboard-grid .card p {
        font-size: 0.85rem !important;
    }
  }

  /* Navbar adjustments for mobile */
  .navbar {
    width: 100% !important; /* Full width on mobile */
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important;
    padding: 0.5rem 1rem;
    border-radius: 0 !important; /* No rounded corners */
    border-left: none !important;
    border-right: none !important;
    border-top: none !important;
    background-color: rgba(10, 10, 15, 0.95) !important; /* Less transparent for readability */
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  /* Ensure burger menu is visible and clickable */
  .navbar__toggle {
    display: block !important;
    margin-right: 0.5rem;
    color: var(--ifm-color-primary-light);
    z-index: 10002;
    order: -1; /* Ensure it's first */
  }
  
  /* Ensure Brand is visible */
  .navbar__brand {
     display: flex !important;
     margin-right: auto; /* Push it to the left (after toggle) */
  }

  /* Adjust doc wrapper padding for mobile */
  .doc-wrapper {
    padding-top: 4rem; /* Match new navbar height */
  }
  
  /* Ensure the sidebar (burger menu content) is visible and on top */
  .navbar-sidebar {
    top: 0 !important;
    height: 100vh !important;
    z-index: 10001 !important;
    background: #0a0a0f !important;
    padding-top: 5rem; /* Space for navbar */
    border-right: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    flex-direction: column;
  }

  /* Show items in sidebar */
  .navbar-sidebar__items {
    padding: 1rem;
    overflow-y: auto;
    height: calc(100vh - 5rem);
    width: 100%;
  }
  
  /* Ensure sidebar links are visible - Let Docusaurus handle display toggling */
  .navbar-sidebar__item {
    display: block !important;
    padding: 0.5rem 1rem;
  }
  
  /* Ensure secondary menu (docs structure) is visible when active */
  .navbar-sidebar .menu {
    background: transparent !important;
    border: none !important;
    margin-top: 1rem;
  }
  
  .navbar-sidebar .menu__list {
    padding: 0 !important;
    margin: 0 !important;
  }

  .navbar-sidebar .menu__list-item {
     /* Default display */
  }
  
  .navbar-sidebar .menu__link {
    color: #cbd5e1 !important;
    font-size: 1rem !important;
    padding: 0.75rem 0 !important;
    display: flex !important;
    align-items: center;
    width: 100%;
  }
  
  .navbar-sidebar .menu__link--active {
    color: var(--ifm-color-primary) !important;
    background: transparent !important;
  }

  /* KEEP AUTH BUTTONS ON NAVBAR (Mobile) */
  /* 1. Force the RIGHT navbar items container to be visible on mobile */
  .navbar__items--right {
    display: flex !important;
    gap: 0.5rem;
    align-items: center;
  }
  
  /* 2. Hide the LINKS in the left container, but NOT the container itself (so toggle/brand survive) */
  /* REMOVED: This was likely hiding the Curriculum link in the mobile menu */
  /* .navbar__inner .navbar__items:not(.navbar__items--right) > .navbar__item {
    display: none !important;
  } */
  
  /* Double check: Ensure Brand and Toggle are visible if they are siblings or inside */
  .navbar__brand {
     display: flex !important;
     margin-right: auto;
  }
  
  .navbar__toggle {
     display: block !important;
     margin-right: 1rem;
     color: #fff !important; /* Force white color for visibility */
     background: rgba(255, 255, 255, 0.1); /* Slight background to see if it's there */
     padding: 0.25rem;
     border-radius: 4px;
  }

  /* 3. Hide specific links (Dashboard, etc) from the top bar on mobile if they are not the auth buttons AND not the dropdown */
  /* We only want .navbar-login-link (Login), .navbar-cta (Sign Up), .navbar-chapter-dropdown, .user-profile-container, .mobile-navbar-cta and .desktop-only-item to show */
  .navbar__items--right > .navbar__item:not(.navbar-login-link):not(.navbar-cta):not(.navbar-chapter-dropdown):not(.mobile-only-nav-item):not(.user-profile-container):not(.mobile-navbar-cta):not(.desktop-only-item) {
    display: none !important;
  }

  /* Force visibility for user profile */
  .user-profile-container {
    display: flex !important;
    align-items: center;
  }

  /* Hide user profile specifically in the mobile sidebar (burger menu) */
  .navbar-sidebar .user-profile-container,
  .navbar-sidebar__items .user-profile-container,
  .navbar-sidebar .logout-sidebar-item {
    display: none !important;
  }
  
  /* HIDE DESKTOP ONLY ITEM ON MOBILE */
  .desktop-only-item {
      display: none !important;
  }

  /* ------------------------------------------------ */
  /* MOBILE SPECIFIC BUTTON STYLING & VISIBILITY */
  /* ------------------------------------------------ */

  /* 1. Get Started Button (Navbar Only) */
  /* Hide in Sidebar */
  .navbar-sidebar .mobile-navbar-cta {
      display: none !important;
  }
  
  /* Show in Navbar and Style */
  .navbar__items--right .mobile-navbar-cta {
      display: flex !important;
      align-items: center;
      justify-content: center;
      padding: 0.7rem 0.9rem !important;
      font-size: 0.7rem !important;
      background: linear-gradient(135deg, #6366f1 0%, #818cf8 100%) !important;
      color: white !important;
      border-radius: 100px !important;
      font-weight: 700;
      margin-left: 0.2rem;
      white-space: nowrap;
      height: auto !important;
      line-height: 1 !important;
  }

  /* 2. Sign Up Button (Sidebar Only) */
  /* Hide in Navbar */
  .navbar__items--right .mobile-sidebar-cta {
      display: none !important;
  }

  /* Show in Sidebar and Style - NOW ALIGNED IN PARALLEL */
  .navbar-sidebar .mobile-sidebar-cta {
      display: block !important;
      padding: 0.25rem 0 !important;
      margin: 0 !important;
  }

  .navbar-sidebar .mobile-sidebar-cta .menu__link {
      background: rgba(99, 102, 241, 0.1) !important;
      border: 1px solid var(--ifm-color-primary) !important;
      color: var(--ifm-color-primary-light) !important;
      border-radius: 12px !important;
      padding: 0.75rem 1rem !important;
      font-size: 0.95rem !important;
      font-weight: 600 !important;
      justify-content: flex-start !important;
      display: flex !important;
      align-items: center;
      margin-top: 0.5rem;
  }

  .navbar-sidebar .mobile-sidebar-cta .menu__link::before {
      content: "→";
      margin-right: 12px;
      font-size: 1.2rem;
  }

} /* END OF OUTER @media (max-width: 996px) */

/* Force visibility of mobile sidebar items (Curriculum, etc) */
  .navbar-sidebar .menu__list,
  .navbar-sidebar .menu__list-item,
  .navbar-sidebar .navbar__item {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
  }
  
  /* Ensure the documentation sidebar menu and secondary menu are visible */
  .navbar-sidebar .theme-doc-sidebar-menu,
  .navbar-sidebar .menu--responsive,
  .navbar-sidebar__items--show-secondary {
      display: block !important;
      visibility: visible !important;
  }
  
  /* Ensure nested menus and categories are visible */
  .navbar-sidebar .menu__list .menu__list,
  .navbar-sidebar .menu__caret {
      display: block !important;
      visibility: visible !important;
  }
  
  /* Fallback visibility for all sidebar items */
  .navbar-sidebar__item,
  .navbar-sidebar .menu__link {
      color: #fff !important;
      opacity: 1 !important;
  }

/* Style the Back to Home button in the sidebar */
.mobile-sidebar-home-button .menu__link {
    border: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(255, 255, 255, 0.05) !important;
    border-radius: 8px;
    margin-bottom: 1rem !important;
    margin-top: 0.5rem !important;
    font-weight: 600;
    display: flex;
    align-items: center;
    color: #fff !important;
}

.mobile-sidebar-home-button .menu__link::before {
    content: "←"; 
    margin-right: 8px;
    font-size: 1.2em;
    color: var(--ifm-color-primary);
}

/* ------------------------------------------------ */
/* DESKTOP VISIBILITY RULES (min-width: 997px)      */
/* ------------------------------------------------ */
@media (min-width: 997px) {
  /* Hide mobile-specific items on desktop */
  .mobile-only-nav-item,
  .mobile-sidebar-home-button,
  .mobile-navbar-cta,
  .mobile-sidebar-cta {
      display: none !important;
  }
}

/* ------------------------------------------------ */
/* CUSTOM TOAST STYLING                             */
/* ------------------------------------------------ */
.custom-logout-toast {
    background: linear-gradient(135deg, #6366f1 0%, #818cf8 100%) !important;
    color: white !important;
    border-radius: 12px !important;
    font-weight: 600 !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    box-shadow: 0 10px 30px rgba(99, 102, 241, 0.4) !important;
}

/* Ensure the loading icon (spinner) inside the toast is also white */
.custom-logout-toast .Toastify__spinner {
    border-right-color: #fff !important;
}